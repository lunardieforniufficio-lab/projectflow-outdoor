{
  "name": "n8n Developer Agent",
  "nodes": [
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "claude-sonnet-4-5-20250929",
          "mode": "list",
          "cachedResultName": "Claude Sonnet 4.5"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "typeVersion": 1.3,
      "position": [
        352,
        368
      ],
      "id": "2c8ce4e2-f7cf-4c80-93d0-7dee7645b205",
      "name": "Anthropic Chat Model",
      "credentials": {
        "anthropicApi": {
          "id": "XvHBO1wpU5DRtmTY",
          "name": "Anthropic account"
        }
      }
    },
    {
      "parameters": {
        "operation": "create",
        "workflowObject": "={{ JSON.stringify($json) }}",
        "requestOptions": {}
      },
      "type": "n8n-nodes-base.n8n",
      "typeVersion": 1,
      "position": [
        912,
        240
      ],
      "id": "0c8cfeb0-35b0-47d3-be66-102f0b651abc",
      "name": "n8n1",
      "credentials": {
        "n8nApi": {
          "id": "Zu78SSS2BKODEj37",
          "name": "n8n account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Richiesta Utente: {{ $('When chat message received').item.json.chatInput }}",
        "options": {
          "systemMessage": "=# Panoramica\n\nSei un esperto sviluppatore di automazioni AI specializzato nella creazione di workflow per n8n. Il tuo compito Ã¨ tradurre una richiesta in linguaggio naturale in un workflow n8n completamente funzionale in formato JSON. Il risultato deve essere completo, funzionale e importabile. Deve avere una struttura JSON 100% valida, con tipi di nodi e metodi di connessione corretti.\n\n----\n\n## Output\nIMPORTANTE: Il tuo output deve essere ESCLUSIVAMENTE JSON puro, senza alcuna formattazione markdown.\n\nIl tuo output deve iniziare ESATTAMENTE con il carattere { e deve terminare ESATTAMENTE con il carattere }.\n\nNON INCLUDERE:\n- Backtick (```) prima o dopo il JSON\n- La parola \"json\" o qualsiasi altra etichetta\n- Qualsiasi testo esplicativo prima della {\n- Qualsiasi testo esplicativo dopo la }\n- Blocchi di codice markdown di qualsiasi tipo\n\nESEMPIO DI OUTPUT CORRETTO:\n{\"name\":\"Test\",\"nodes\":[],\"connections\":{}}\n\nESEMPIO DI OUTPUT SBAGLIATO:\n```json\n{\"name\":\"Test\",\"nodes\":[],\"connections\":{}}\n```\n\nIl tuo output deve essere un oggetto JSON puro che puÃ² essere direttamente parsato da JSON.parse(), pronto per essere utilizzato come body di una richiesta POST.\n\nIl JSON deve:\n- Essere sintatticamente valido e completo\n- Includere un array `nodes` con ogni nodo contenente tutti i parametri richiesti\n- Includere un oggetto `connections` che mappa correttamente gli output agli input\n- Iniziare con un nodo `trigger` se richiesto dal caso d'uso (es. Webhook, Schedule, ecc.)\n- Contenere nomi descrittivi e valori di parametri pertinenti alla richiesta dell'utente\n- Evitare placeholder a meno che non sia possibile dedurre un valore ragionevole\n- Contenere sticky note che spiegano cosa sta accadendo in ogni passaggio e quali credenziali o connessioni devono ancora essere configurate. I colori devono variare lungo tutto il workflow.\n\nPrima di generare il JSON, analizza la richiesta e:\n1. Suddividila in passaggi logici di automazione\n2. Scegli i nodi appropriati in base ai passaggi\n3. Connetti correttamente i nodi per riflettere l'ordine di esecuzione\n\nSe la richiesta Ã¨ ambigua, fai la migliore ipotesi possibile utilizzando la logica standard dell'automazione.\n\nNon restituire spiegazioni, commenti o qualsiasi output al di fuori del JSON puro.\nCi si aspetta che tu produca un output di livello professionale adatto all'importazione diretta in n8n.\n\n----\n\n## Requisiti per l'invio tramite API\n\nPer creare automaticamente un workflow utilizzando l'API di n8n, il JSON generato deve includere i seguenti campi di primo livello nell'oggetto finale:\n- `name` (string): Un nome chiaro e descrittivo del workflow.\n- `nodes` (array): L'array completo degli oggetti nodo utilizzati nel workflow.\n- `connections` (object): Una mappa valida delle connessioni nodo-a-nodo.\n- `settings` (object): Impostazioni a livello di workflow (es. `saveManualExecutions`, `executionOrder`).\n- `staticData` (null o object): Imposta su `null` a meno che non siano necessari dati statici specifici.\n- `tags` (array): Array di tag, puÃ² essere vuoto [].\n- `pinData` (object): Oggetto per dati fissati, solitamente vuoto {}.\n- `active` (boolean): Imposta su false di default.\n\nEsempio di oggetto \"settings\":\n{\n  \"settings\": {\n    \"executionOrder\": \"v1\",\n    \"saveManualExecutions\": true,\n    \"saveDataSuccessExecution\": \"all\",\n    \"saveExecutionProgress\": true,\n    \"saveDataErrorExecution\": \"all\",\n    \"errorWorkflow\": \"\",\n    \"timezone\": \"Europe/Rome\"\n  }\n}\n\n---\n\n## Documentazione n8n\n\nLa seguente documentazione contiene tre esempio completi di workflow che puoi utilizzare come riferimento per la struttura, i tipi di nodi e le connessioni:\n\n<esempio1>{{ $json.workflow1 }}</esempio1>\n\n<esempio2>{{ $json.workflow2 }}</esempio2>\n\n<esempio3>{{ $json.workflow3 }}</esempio3>\n\n---\n\nRICORDA: La tua risposta deve iniziare con { e finire con }. Nient'altro. Nessun backtick, nessun markdown, nessuna spiegazione."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        416,
        176
      ],
      "id": "e0a27520-5fbe-4ff0-990e-4767cea3b130",
      "name": "n8n Builder1",
      "alwaysOutputData": false,
      "executeOnce": false,
      "retryOnFail": false,
      "notesInFlow": false
    },
    {
      "parameters": {
        "content": "# Workflow Builder\n",
        "height": 516,
        "width": 1376,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -80,
        48
      ],
      "id": "8831b550-e65b-4238-becf-07057324f388",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "f4b8c16e-6788-4c17-b643-94a3f0620860",
              "name": "Workflow Link",
              "value": "=  https://LA_TUA_ISTANZA_N8N/workflow/{{ $json.id }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1088,
        176
      ],
      "id": "3d7dc4e5-17ad-416f-92d6-b73f534b9545",
      "name": "Link al Workflow1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "12156859-4c53-43fe-8a2a-18bd992f58b9",
              "name": "workflow1",
              "value": "{\n  \"name\": \"Agente AI per le Newsletter\",\n  \"nodes\": [\n    {\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"weeks\"\n            }\n          ]\n        }\n      },\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"typeVersion\": 1.2,\n      \"position\": [1040, 96],\n      \"id\": \"df936d6f-91cb-448e-9fa0-76683b4b501d\",\n      \"name\": \"Schedule Trigger\"\n    },\n    {\n      \"parameters\": {\n        \"resource\": \"search\",\n        \"operation\": \"query\"\n      },\n      \"type\": \"@tavily/n8n-nodes-preview-tavily.tavily\",\n      \"typeVersion\": 1,\n      \"position\": [1264, 96],\n      \"id\": \"79627147-889a-4e6a-8f9e-6c3ea2f8d988\",\n      \"name\": \"Initial Research\",\n      \"credentials\": {}\n    },\n    {\n      \"parameters\": {\n        \"model\": \"openai/gpt-5-mini\",\n        \"options\": {}\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenRouter\",\n      \"typeVersion\": 1,\n      \"position\": [1984, 288],\n      \"id\": \"c961e302-eefb-4e11-85f9-dda1fd83ee1d\",\n      \"name\": \"OpenRouter Chat Model\"\n    },\n    {\n      \"parameters\": {\n        \"schemaType\": \"manual\",\n        \"inputSchema\": \"{\\n  \\\"type\\\": \\\"object\\\",\\n  \\\"required\\\": [\\\"title\\\", \\\"topics\\\"],\\n  \\\"properties\\\": {\\n    \\\"title\\\": {\\n      \\\"type\\\": \\\"string\\\",\\n      \\\"description\\\": \\\"A short, descriptive title\\\"\\n    },\\n    \\\"topics\\\": {\\n      \\\"type\\\": \\\"array\\\",\\n      \\\"description\\\": \\\"An array of exactly three topics\\\",\\n      \\\"minItems\\\": 3,\\n      \\\"maxItems\\\": 3,\\n      \\\"items\\\": {\\n        \\\"type\\\": \\\"string\\\"\\n      }\\n    }\\n  },\\n  \\\"additionalProperties\\\": false\\n}\"\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"typeVersion\": 1.3,\n      \"position\": [1792, 288],\n      \"id\": \"91c25263-4dae-47fc-b608-baf7d39e8bec\",\n      \"name\": \"Structured Output Parser\"\n    },\n    {\n      \"parameters\": {\n        \"fieldToSplitOut\": \"output.topics\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"typeVersion\": 1,\n      \"position\": [1744, 96],\n      \"id\": \"037e0477-9796-4346-82ee-91e01fd532a0\",\n      \"name\": \"Split Out\"\n    },\n    {\n      \"parameters\": {\n        \"resource\": \"search\",\n        \"operation\": \"query\"\n      },\n      \"type\": \"@tavily/n8n-nodes-preview-tavily.tavily\",\n      \"typeVersion\": 1,\n      \"position\": [1952, 96],\n      \"id\": \"25cdae79-48d8-4d98-a8bb-f52a36339cf3\",\n      \"name\": \"Research Topics\",\n      \"credentials\": {}\n    },\n    {\n      \"parameters\": {\n        \"promptType\": \"define\",\n        \"text\": \"Topic: [TOPIC]\\n\\nResearch:\\n[RESEARCH_RESULTS]\\n\",\n        \"options\": {\n          \"systemMessage\": \"# Overview\\nYou are a professional newsletter section writer. Your only task is to write one standalone section of a newsletter.\\n\\n## Instructions\\n- Always include a clear section heading followed by the section content.\\n- Do not write an overall title, introduction, or conclusion.\\n- Write in a professional, expert, and engaging tone suitable for a business newsletter.\\n- If you reference facts, data, or quotes, you must cite your sources and provide the actual clickable URLs.\\n- Do not invent citationsâ€”only include real, verifiable sources.\\n- Keep the section concise, well-structured, and easy to read.\\n\"\n        }\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"typeVersion\": 2.2,\n      \"position\": [2080, 96],\n      \"id\": \"a01d23c2-04aa-41d2-87bb-cdab8495106d\",\n      \"name\": \"Section Writer Agent\"\n    },\n    {\n      \"parameters\": {\n        \"fieldsToAggregate\": {\n          \"fieldToAggregate\": [\n            {\n              \"fieldToAggregate\": \"output\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"typeVersion\": 1,\n      \"position\": [2416, 96],\n      \"id\": \"a9a44504-e63e-49d0-a2a9-cb93402df3d9\",\n      \"name\": \"Aggregate\"\n    },\n    {\n      \"parameters\": {\n        \"model\": \"openai/gpt-5\",\n        \"options\": {}\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenRouter\",\n      \"typeVersion\": 1,\n      \"position\": [2160, 288],\n      \"id\": \"225f20fd-749a-46ea-81d0-57c5275bd562\",\n      \"name\": \"OpenRouter Chat Model1\"\n    },\n    {\n      \"parameters\": {\n        \"promptType\": \"define\",\n        \"text\": \"Title: [NEWSLETTER_TITLE]\\n\\nSections: [SECTIONS_CONTENT]\\n\",\n        \"hasOutputParser\": true,\n        \"options\": {\n          \"systemMessage\": \"# Overview\\nYou are an expert newsletter editor. Merge exactly three provided sections into a cohesive, email-ready HTML body with a holistic introduction and conclusion. Maintain a professional, concise tone for a business audience and preserve intended meaning.\\n\\n## Goals\\n- Refine clarity, flow, and consistency across all sections.\\n- Keep total content output â‰¤ 1000 words (hard limit). Avoid fluff.\\n\\n## Structure (HTML only)\\n1) <p> Introduction that frames the three topics and their relevance; reference today's date.\\n2) For each provided section:\\n   - <h2> Use or lightly adjust the given title.\\n   - Edited <p> content.\\n   - Inline, clickable citations near related claims using <a href=\\\"https://...\\\">Source</a>. Never invent sources.\\n3) <h3>Sources</h3><ul> A single consolidated list:\\n   - Each item: <li><a href=\\\"[URL]\\\">[Publication Name] â€“ [Article Title]</a></li>\\n   - Include full URLs, deduplicate identical links, and alphabetize by Publication Name.\\n4) <p> Conclusion tying threads together with implications or next steps.\\n\\n## Citation and Link Rules\\n- Every factual claim relying on external information must include a real, verifiable, clickable URL.\\n- Preserve any provided citations; standardize to the <a> format.\\n- Omit unverifiable links rather than fabricate.\\n- Use only basic HTML tags (<h2>, <h3>, <p>, <ul>, <li>, <a>). No images, scripts, styles, or external CSS.\\n\\n## Input\\n- You will receive three sections. Edit and integrate them without adding unrelated topics.\\n\\nOutput Format (return only this)\\nSubject: One clear, specific subject line (â‰¤ 80 characters)\\n\\nContent:\\n[HTML body only as specified above]\\n\"\n        }\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"typeVersion\": 2.2,\n      \"position\": [2544, 96],\n      \"id\": \"e92a3a65-a326-4310-a6fd-76f0e841cf6c\",\n      \"name\": \"Editor Agent\"\n    },\n    {\n      \"parameters\": {\n        \"schemaType\": \"manual\",\n        \"inputSchema\": \"{\\n  \\\"type\\\": \\\"object\\\",\\n  \\\"properties\\\": {\\n    \\\"subject\\\": {\\n      \\\"type\\\": \\\"string\\\",\\n      \\\"description\\\": \\\"the email subject\\\"\\n    },\\n    \\\"content\\\": {\\n      \\\"type\\\": \\\"string\\\",\\n      \\\"description\\\": \\\"the newsletter content\\\"\\n    }\\n  },\\n  \\\"required\\\": [\\\"subject\\\", \\\"content\\\"]\\n}\\n\"\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"typeVersion\": 1.3,\n      \"position\": [2352, 288],\n      \"id\": \"54c82752-1db0-4e5f-b5a5-bbcbf7f35ff7\",\n      \"name\": \"Structured Output Parser1\"\n    },\n    {\n      \"parameters\": {\n        \"resource\": \"draft\",\n        \"subject\": \"[EMAIL_SUBJECT]\",\n        \"emailType\": \"html\",\n        \"message\": \"[EMAIL_CONTENT]\",\n        \"options\": {\n          \"sendTo\": \"\"\n        }\n      },\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"typeVersion\": 2.1,\n      \"position\": [2896, 96],\n      \"id\": \"742713b2-e373-4679-a60c-3cd4a715f574\",\n      \"name\": \"Create a draft\",\n      \"webhookId\": \"631942e2-3370-4f03-a546-94e4a3a87b55\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"# ðŸ§  Guida alla Configurazione di una Newsletter Potenziata dall'AI\\n\\nSegui questi passaggi per generare una newsletter basata su ricerche approfondite utilizzando agenti e automazione:\\n\\n### âœ… Step 1: Scegli la Pianificazione\\nApri il **Schedule Trigger** e imposta l'orario in cui desideri che questo workflow venga eseguito. Questo controlla quando la tua newsletter verrÃ  generata automaticamente.\\n\\n### âœ… Step 2: Connetti la Tua Chiave API di [Tavily](https://www.tavily.com/)\\nAggiungi la tua chiave Tavily ai due nodi Tavily. Questi nodi alimentano la fase di ricerca della tua newsletter.\\n\\n### âœ… Step 3: Imposta l'Argomento della Newsletter\\nNel nodo **Initial Research**, inserisci l'argomento che desideri venga ricercato nel campo **Query**. Questo indica a Tavily cosa ricercare, ed Ã¨ ciÃ² su cui gli agenti scriveranno.\\n\\n### âœ… Step 4: Connetti la Tua Chiave API di [OpenRouter](https://openrouter.ai/)\\nQuesto alimenta i tre agenti che gestiscono la scrittura e la formattazione. Aggiungi la tua chiave tramite i nodi OpenRouter Chat Model.\\n\\n### âœ… Step 5: Collega il Tuo Gmail\\nConnetti le tue credenziali Gmail in modo che la bozza finale possa essere inviata via email a teâ€”o a chiunque altro tu scelga.\\n\\n### âœ… Step 6: Attiva il Workflow\\nUna volta che sei pronto, imposta il workflow su **attivo** in modo che venga eseguito automaticamente in base al trigger pianificato.\\n\\n### ðŸ’¡ Passaggio Finale: Testa e Perfeziona\\nEsegui il workflow e sperimenta con i prompt per regolare il tono, la formattazione o il modo in cui vengono presentate le fonti. Potrai migliorare e scalare ulteriormente questo workflow secondo le tue esigenze.\",\n        \"height\": 752,\n        \"width\": 752\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"typeVersion\": 1,\n      \"position\": [224, 16],\n      \"id\": \"78fc3a9a-98ac-4018-bd3e-e59256fabdb1\",\n      \"name\": \"Sticky Note\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## Trigger\\nSet cadence\",\n        \"height\": 224,\n        \"width\": 208,\n        \"color\": 7\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"typeVersion\": 1,\n      \"position\": [992, 16],\n      \"id\": \"e20265f9-972e-46ea-9af0-ac391a218a21\",\n      \"name\": \"Sticky Note1\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"Set your newsletter topic in the \\\"query\\\" field\",\n        \"height\": 224,\n        \"width\": 208,\n        \"color\": 5\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"typeVersion\": 1,\n      \"position\": [1216, 16],\n      \"id\": \"abe7400c-fd0e-49e5-a348-f7257087c4c2\",\n      \"name\": \"Sticky Note2\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## Generating Title & Topics\",\n        \"height\": 224,\n        \"width\": 448,\n        \"color\": 4\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"typeVersion\": 1,\n      \"position\": [1440, 16],\n      \"id\": \"d43f5ef1-6136-40f2-b92d-b39da08bd177\",\n      \"name\": \"Sticky Note3\"\n    },\n    {\n      \"parameters\": {\n        \"promptType\": \"define\",\n        \"text\": \"[RESEARCH_RESULTS]\\n\",\n        \"hasOutputParser\": true,\n        \"options\": {\n          \"systemMessage\": \"# Overview\\nYou are an expert newsletter planner. You will receive three articles from the past week. Your job is to come up with a creative and fun title as well as the main topics for this newsletter.\\n\\n## Instructions\\nThe newsletter should flow nicely, feel informative, and holistic. The topics should be 3-5 words.\\n\"\n        }\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"typeVersion\": 2.2,\n      \"position\": [1472, 96],\n      \"id\": \"3a9e60a5-98ff-49e1-bb08-aa34908623af\",\n      \"name\": \"Planning Agent\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## Writing Newsletter Sections\",\n        \"height\": 224,\n        \"width\": 448,\n        \"color\": 6\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"typeVersion\": 1,\n      \"position\": [1904, 16],\n      \"id\": \"7a38d72f-0185-41bf-816a-a03745b32f5e\",\n      \"name\": \"Sticky Note4\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## Editing Final Copy\",\n        \"height\": 224,\n        \"width\": 448,\n        \"color\": 2\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"typeVersion\": 1,\n      \"position\": [2368, 16],\n      \"id\": \"ccf9af07-b183-4cc8-a62d-d7cfe52ec1b6\",\n      \"name\": \"Sticky Note5\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"\",\n        \"width\": 832,\n        \"color\": 7\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"typeVersion\": 1,\n      \"position\": [1696, 256],\n      \"id\": \"d6847c46-02b9-41f8-a319-d51c8fb18fab\",\n      \"name\": \"Sticky Note6\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## Send Draft\",\n        \"height\": 224,\n        \"width\": 224\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"typeVersion\": 1,\n      \"position\": [2832, 16],\n      \"id\": \"20fbbaa3-034d-4653-ba3a-8f5e4e0a833b\",\n      \"name\": \"Sticky Note7\"\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Initial Research\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Initial Research\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Planning Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenRouter Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Section Writer Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Planning Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"Planning Agent\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Research Topics\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Research Topics\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Section Writer Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Section Writer Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Editor Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenRouter Chat Model1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Editor Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Output Parser1\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"Editor Agent\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Editor Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create a draft\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Planning Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  },\n  \"active\": false,\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"1a9e4cf5-0dfe-4f86-acbd-3ad02be637f6\",\n  \"meta\": {\n    \"instanceId\": \"2bdc5e10adda5aca85bc2ff837f8b3954c5698484b6d2c434936fa5b9c053f2b\"\n  },\n  \"id\": \"ROLn8W5aj4NztQID\",\n  \"tags\": []\n}",
              "type": "string"
            },
            {
              "id": "cb2b1811-273b-493b-a49f-f14eec18be23",
              "name": "workflow2",
              "value": "{\n  \"name\": \"Analisi Fatture\",\n  \"nodes\": [\n    {\n      \"parameters\": {\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        },\n        \"triggerOn\": \"specificFolder\",\n        \"folderToWatch\": {\n          \"__rl\": true,\n          \"value\": \"116BL8m5P-8bhxGsHKfMBITExvUDW6Uun\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Fatture N8N\",\n          \"cachedResultUrl\": \"https://drive.google.com/drive/folders/116BL8m5P-8bhxGsHKfMBITExvUDW6Uun\"\n        },\n        \"event\": \"fileCreated\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleDriveTrigger\",\n      \"typeVersion\": 1,\n      \"position\": [-160, -16],\n      \"id\": \"46a8e728-8295-47e1-b6ef-82aa6fc1bbf6\",\n      \"name\": \"Google Drive Trigger\",\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"JxF3w8Fncbf4qla4\",\n          \"name\": \"Riccardo New Account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"download\",\n        \"fileId\": {\n          \"__rl\": true,\n          \"value\": \"={{ $json.id }}\",\n          \"mode\": \"id\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"typeVersion\": 3,\n      \"position\": [48, -16],\n      \"id\": \"16aec147-119c-4522-b34d-63ef2bee4233\",\n      \"name\": \"Download file\",\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"JxF3w8Fncbf4qla4\",\n          \"name\": \"Riccardo New Account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"pdf\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.extractFromFile\",\n      \"typeVersion\": 1,\n      \"position\": [272, -16],\n      \"id\": \"750205de-06c1-43fd-8c96-558792b424f1\",\n      \"name\": \"Extract from File\"\n    },\n    {\n      \"parameters\": {\n        \"text\": \"={{ $json.text }}\",\n        \"attributes\": {\n          \"attributes\": [\n            {\n              \"name\": \"Committente\",\n              \"description\": \"L'azienda che ha richiesto la fattura\",\n              \"required\": true\n            },\n            {\n              \"name\": \"Numero Fattura\",\n              \"type\": \"number\",\n              \"description\": \"Il numero della fattura emessa\",\n              \"required\": true\n            },\n            {\n              \"name\": \"Data\",\n              \"type\": \"date\",\n              \"description\": \"La data di quando Ã¨ stata emessa la fattura\",\n              \"required\": true\n            },\n            {\n              \"name\": \"Descrizione\",\n              \"description\": \"La descrizione della fattura\",\n              \"required\": true\n            },\n            {\n              \"name\": \"Importo\",\n              \"description\": \"L'importo totale della fattura\",\n              \"required\": true\n            }\n          ]\n        },\n        \"options\": {\n          \"systemPromptTemplate\": \"Sei un esperto algoritmo di estrazione.\\nEstrai solo le informazioni rilevanti dal testo della fattura.\\nSe non conosci il valore di un attributo richiesto per l'estrazione, puoi omettere il valore di quell'attributo.\\n\"\n        }\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.informationExtractor\",\n      \"typeVersion\": 1.2,\n      \"position\": [448, -16],\n      \"id\": \"f3c8045e-e736-4469-af19-48581a5c2609\",\n      \"name\": \"Information Extractor\"\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"append\",\n        \"documentId\": {\n          \"__rl\": true,\n          \"value\": \"1ounbwUxHFD3_rPlfd57kKkLalXdEAgsTkuvmf9bvSv8\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Formazione: Lista Fatture\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1ounbwUxHFD3_rPlfd57kKkLalXdEAgsTkuvmf9bvSv8/edit?usp=drivesdk\"\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"value\": \"gid=0\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Foglio1\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1ounbwUxHFD3_rPlfd57kKkLalXdEAgsTkuvmf9bvSv8/edit#gid=0\"\n        },\n        \"columns\": {\n          \"mappingMode\": \"defineBelow\",\n          \"value\": {\n            \"Cliente\": \"={{ $json.output.Committente }}\",\n            \"Numero Fattura\": \"={{ $json.output['Numero Fattura'] }}\",\n            \"Data\": \"={{ $json.output.Data }}\",\n            \"Descrizione\": \"={{ $json.output.Descrizione }}\",\n            \"Importo\": \"={{ $json.output.Importo }}\"\n          },\n          \"matchingColumns\": [],\n          \"schema\": [\n            {\n              \"id\": \"Cliente\",\n              \"displayName\": \"Cliente\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Numero Fattura\",\n              \"displayName\": \"Numero Fattura\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Data\",\n              \"displayName\": \"Data\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Descrizione\",\n              \"displayName\": \"Descrizione\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Importo\",\n              \"displayName\": \"Importo\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"typeVersion\": 4.7,\n      \"position\": [768, -16],\n      \"id\": \"3fb359bf-f627-43f6-ad5d-49fd4b46c8a7\",\n      \"name\": \"Add Invoice to DB\",\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"48xMVCOJOmsUzysR\",\n          \"name\": \"Riccardo New Account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"value\": \"gpt-4o-mini\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"GPT-4O-MINI\"\n        },\n        \"messages\": {\n          \"values\": [\n            {\n              \"content\": \"=# Panoramica\\n\\nSei un'esperta scrittrice di email per Martes AI di nome Franscesca. Riceverai informazioni relative a una fattura. Il tuo compito Ã¨ notificare al team di fatturazione interno che una fattura Ã¨ stata ricevuta o inviata.\\n\\n## Email\\n\\nNell'email, assicurati di includere anche che il sistema ha aggiunto i campi al database di Google Sheets, visualizzabile qui:\\n\\nhttps://docs.google.com/spreadsheets/d/1ounbwUxHFD3_rPlfd57kKkLalXdEAgsTkuvmf9bvSv8/edit?usp=sharing\\n\\n## Output\\n\\nIl tuo output deve essere nel seguente formato JSON:\\n\\n{\\\"subjectLine\\\":\\\"subjectLineHere\\\", \\\"EmailBody\\\":\\\"bodyEmailHere\\\"}\\n\\n## Regole\\n\\n* Non includere alcuna formattazione Markdown\\n* Assicurati che l'email sia in formato HTML\\n\",\n              \"role\": \"system\"\n            },\n            {\n              \"content\": \"=Numero Fattura: {{ $json['Numero Fattura'] }}\\n\\nNome Cliente: {{ $json.Cliente }}\\n\\nData Fattura: {{ $json.Data }}\\n\\nDescrizione Fattura: {{ $json.Descrizione }}\\n\\nImporto Fattura: {{ $json.Importo }}\"\n            }\n          ]\n        },\n        \"jsonOutput\": true,\n        \"options\": {}\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"typeVersion\": 1.8,\n      \"position\": [1040, -16],\n      \"id\": \"d7fb0a70-9ebe-4715-9ece-05c33614dbdc\",\n      \"name\": \"Message a model\",\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"1ErSMCYVOL5AMSJ7\",\n          \"name\": \"Martes' OpenAI account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"sendTo\": \"riccardobcontarini@gmail.com\",\n        \"subject\": \"={{ $json.message.content.subjectLine }}\",\n        \"message\": \"={{ $json.message.content.EmailBody }}\",\n        \"options\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"typeVersion\": 2.1,\n      \"position\": [1328, -16],\n      \"id\": \"8db6ff95-de87-41b8-ba13-f13efbfe1720\",\n      \"name\": \"Send a message\",\n      \"webhookId\": \"35ff3718-edc6-4ef4-8e38-4b398e26f9d9\",\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"0FQGUr10aNRMA5kv\",\n          \"name\": \"Riccardo New Account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## 2. Estrai Testo\\n\",\n        \"height\": 288,\n        \"width\": 480,\n        \"color\": 4\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [224, -96],\n      \"typeVersion\": 1,\n      \"id\": \"27344ed4-ec77-4a6f-9a8a-63882fdd6645\",\n      \"name\": \"Sticky Note2\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## 3. Aggiungi al DB\",\n        \"height\": 288,\n        \"width\": 256,\n        \"color\": 5\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [720, -96],\n      \"typeVersion\": 1,\n      \"id\": \"62c5b6b6-0c6a-4fbc-a907-59c57e422a5e\",\n      \"name\": \"Sticky Note3\"\n    },\n    {\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4.1-mini\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"typeVersion\": 1.2,\n      \"position\": [368, 96],\n      \"id\": \"a82369b0-bc6d-4b19-a3b5-deeb43c006ac\",\n      \"name\": \"OpenAI Chat Model1\",\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"1ErSMCYVOL5AMSJ7\",\n          \"name\": \"Martes' OpenAI account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## 1. Aspettiamo Nuove Fatture\\n\",\n        \"height\": 288,\n        \"width\": 416\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [-208, -96],\n      \"typeVersion\": 1,\n      \"id\": \"d0a54ca3-0a76-46b8-a1eb-b0dca4b7b45a\",\n      \"name\": \"Sticky Note5\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## 4. Manda Email all'amministrazione\",\n        \"height\": 288,\n        \"width\": 480,\n        \"color\": 6\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [992, -96],\n      \"typeVersion\": 1,\n      \"id\": \"91afd45d-5394-4331-b7ed-755dc2b296d4\",\n      \"name\": \"Sticky Note6\"\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Google Drive Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download file\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download file\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract from File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract from File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Information Extractor\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Information Extractor\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add Invoice to DB\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Add Invoice to DB\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Message a model\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Message a model\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send a message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Information Extractor\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  },\n  \"active\": false,\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"93b46fcb-ab30-4e68-91ca-ce594a0deaf0\",\n  \"meta\": {\n    \"templateCredsSetupCompleted\": true,\n    \"instanceId\": \"2bdc5e10adda5aca85bc2ff837f8b3954c5698484b6d2c434936fa5b9c053f2b\"\n  },\n  \"id\": \"5iRkOUF79hjdUQjy\",\n  \"tags\": []\n}",
              "type": "string"
            },
            {
              "id": "3fad13e8-f287-4cf0-b52c-cdccd438c23c",
              "name": "workflow3",
              "value": "{\n  \"name\": \"Multi Agent\",\n  \"nodes\": [\n    {\n      \"parameters\": {\n        \"sendTo\": \"={{ $fromAI(\\\"emailAddress\\\") }}\",\n        \"subject\": \"={{ $fromAI(\\\"subject\\\") }}\",\n        \"message\": \"={{ $fromAI(\\\"emailBody\\\") }}\",\n        \"options\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"type\": \"n8n-nodes-base.gmailTool\",\n      \"typeVersion\": 2.1,\n      \"position\": [900, 1140],\n      \"id\": \"f68f47a6-8397-4aac-a1e3-81c3b778dc3b\",\n      \"name\": \"Send Email\",\n      \"webhookId\": \"86c8c4b1-13bb-4ebe-acb9-30e1d7082d55\",\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"5CO09TTRQR1jI9TR\",\n          \"name\": \"Gmail account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"getAll\",\n        \"limit\": \"={{ $fromAI(\\\"limit\\\",\\\"how many emails the user wants\\\") }}\",\n        \"simple\": false,\n        \"filters\": {\n          \"sender\": \"={{ $fromAI(\\\"sender\\\",\\\"who the emails are from\\\") }}\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.gmailTool\",\n      \"typeVersion\": 2.1,\n      \"position\": [1020, 1280],\n      \"id\": \"fc68f848-26c5-489a-ad29-b8490cf69244\",\n      \"name\": \"Get Emails\",\n      \"webhookId\": \"af4b3298-9037-44b0-aa12-2acbfbb5e66f\",\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"5CO09TTRQR1jI9TR\",\n          \"name\": \"Gmail account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"resource\": \"draft\",\n        \"subject\": \"={{ $fromAI(\\\"subject\\\") }}\",\n        \"emailType\": \"html\",\n        \"message\": \"={{ $fromAI(\\\"emailBody\\\") }}\",\n        \"options\": {\n          \"threadId\": \"={{ $fromAI(\\\"threadID\\\") }}\",\n          \"sendTo\": \"={{ $fromAI(\\\"emailAddress\\\") }}\"\n        }\n      },\n      \"type\": \"n8n-nodes-base.gmailTool\",\n      \"typeVersion\": 2.1,\n      \"position\": [900, 1280],\n      \"id\": \"fe543714-444e-4895-927e-d38b111a9094\",\n      \"name\": \"Create Draft\",\n      \"webhookId\": \"17016bce-d7d7-428a-a56c-f6ea122db8be\",\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"5CO09TTRQR1jI9TR\",\n          \"name\": \"Gmail account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"reply\",\n        \"messageId\": \"={{ $fromAI(\\\"ID\\\",\\\"the message ID\\\") }}\",\n        \"message\": \"={{ $fromAI(\\\"emailBody\\\") }}\",\n        \"options\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"type\": \"n8n-nodes-base.gmailTool\",\n      \"typeVersion\": 2.1,\n      \"position\": [1020, 1140],\n      \"id\": \"36338612-ce91-417e-af5a-a78544957502\",\n      \"name\": \"Email Reply\",\n      \"webhookId\": \"114785e6-a859-432b-81b4-c490c1c35b1c\",\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"5CO09TTRQR1jI9TR\",\n          \"name\": \"Gmail account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"resource\": \"label\",\n        \"returnAll\": true\n      },\n      \"type\": \"n8n-nodes-base.gmailTool\",\n      \"typeVersion\": 2.1,\n      \"position\": [1140, 1280],\n      \"id\": \"6d2c98c9-0ff1-46ed-8467-6702c6407737\",\n      \"name\": \"Get Labels\",\n      \"webhookId\": \"9e08b59e-792d-4566-83f1-9263c9ad86ae\",\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"5CO09TTRQR1jI9TR\",\n          \"name\": \"Gmail account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"addLabels\",\n        \"messageId\": \"={{ $fromAI(\\\"ID\\\",\\\"the ID of the message\\\") }}\",\n        \"labelIds\": \"={{ $fromAI(\\\"labelID\\\") }}\"\n      },\n      \"type\": \"n8n-nodes-base.gmailTool\",\n      \"typeVersion\": 2.1,\n      \"position\": [1140, 1140],\n      \"id\": \"14140fc3-a307-441b-8ed5-91e971e92d4a\",\n      \"name\": \"Label Emails\",\n      \"webhookId\": \"0e951529-2e6d-40bf-ac40-fc0947e242e2\",\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"5CO09TTRQR1jI9TR\",\n          \"name\": \"Gmail account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"markAsUnread\",\n        \"messageId\": \"={{ $fromAI(\\\"messageID\\\") }}\"\n      },\n      \"type\": \"n8n-nodes-base.gmailTool\",\n      \"typeVersion\": 2.1,\n      \"position\": [780, 1280],\n      \"id\": \"7828f270-519c-463d-b74a-b4d28ee03c9f\",\n      \"name\": \"Mark Unread\",\n      \"webhookId\": \"a35af9d8-f67d-4ff9-803f-59ec6356e795\",\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"5CO09TTRQR1jI9TR\",\n          \"name\": \"Gmail account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"value\": \"gpt-4.1-mini\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"gpt-4.1-mini\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"typeVersion\": 1.2,\n      \"position\": [780, 1140],\n      \"id\": \"83146e70-c742-4f17-b823-72c21519769d\",\n      \"name\": \"4.1-mini\",\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"BFc6AP5AI3zXT8vo\",\n          \"name\": \"OpenAi account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"promptType\": \"define\",\n        \"text\": \"={{ $json.query }}\",\n        \"options\": {\n          \"systemMessage\": \"=# Panoramica\\n\\nSei un assistente per la gestione delle email. Tutte le email devono essere formattate in modo professionale in **HTML** e firmate con **\\\"Riccardo\\\"**. Se ti parlo di \\\"la mia email\\\", mi riferisco a riccardobcontarini@gmail.com\\n\\n**Strumenti per la gestione delle email**\\n\\n* Usa **\\\"Send Email\\\"** per inviare email.\\n* Usa **\\\"Create Draft\\\"** se l'utente chiede una bozza.\\n* Usa **\\\"Get Emails\\\"** per recuperare le email quando richiesto.\\n* Usa **\\\"Get Labels\\\"** per recuperare le etichette.\\n* Usa **\\\"Mark Unread\\\"** per segnare un'email come non letta. Devi prima usare **\\\"Get Emails\\\"** per ottenere l'ID del messaggio da segnalare.\\n* Usa **\\\"Label Email\\\"** per etichettare un'email. Devi prima usare **\\\"Get Emails\\\"** per ottenere l'ID del messaggio, poi usare **\\\"Get Labels\\\"** per ottenere l'ID dell'etichetta.\\n* Usa **\\\"Email Reply\\\"** per rispondere a un'email. Devi prima usare **\\\"Get Emails\\\"** per ottenere l'ID del messaggio a cui rispondere.\\n\\n## Note finali\\n\\n* Data/ora attuali: {{ $now }}\\n\"\n        }\n      },\n      \"id\": \"3e9c84ce-6838-4d79-b4e7-67a2388ce04b\",\n      \"name\": \"Email Agent1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"typeVersion\": 1.6,\n      \"position\": [860, 940],\n      \"onError\": \"continueErrorOutput\"\n    },\n    {\n      \"parameters\": {\n        \"calendar\": {\n          \"__rl\": true,\n          \"value\": \"riccardobcontarini@gmail.com\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"riccardobcontarini@gmail.com\"\n        },\n        \"start\": \"={{ $fromAI(\\\"eventStart\\\") }}\",\n        \"end\": \"={{ $fromAI(\\\"eventEnd\\\") }}\",\n        \"additionalFields\": {\n          \"attendees\": [\"={{ $fromAI(\\\"eventAttendeeEmail\\\") }}\"],\n          \"summary\": \"={{ $fromAI(\\\"eventTitle\\\") }}\"\n        }\n      },\n      \"type\": \"n8n-nodes-base.googleCalendarTool\",\n      \"typeVersion\": 1.3,\n      \"position\": [1880, 1280],\n      \"id\": \"d48cd665-f7f4-4985-900b-ee7ef8122460\",\n      \"name\": \"Create Event with Attendee\",\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"77PusYPyogYoBXAh\",\n          \"name\": \"Google Calendar account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"calendar\": {\n          \"__rl\": true,\n          \"value\": \"riccardobcontarini@gmail.com\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"riccardobcontarini@gmail.com\"\n        },\n        \"start\": \"={{ $fromAI(\\\"eventStart\\\") }}\",\n        \"end\": \"={{ $fromAI(\\\"eventEnd\\\") }}\",\n        \"additionalFields\": {\n          \"attendees\": [],\n          \"summary\": \"={{ $fromAI(\\\"eventTitle\\\") }}\"\n        }\n      },\n      \"type\": \"n8n-nodes-base.googleCalendarTool\",\n      \"typeVersion\": 1.3,\n      \"position\": [1760, 1280],\n      \"id\": \"36369a68-7970-4364-94e0-c91c14227dd2\",\n      \"name\": \"Create Event\",\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"77PusYPyogYoBXAh\",\n          \"name\": \"Google Calendar account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"getAll\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"value\": \"riccardobcontarini@gmail.com\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"riccardobcontarini@gmail.com\"\n        },\n        \"timeMin\": \"={{ $fromAI(\\\"dayBefore\\\",\\\"the day before the date the user requested\\\") }}\",\n        \"timeMax\": \"={{ $fromAI(\\\"dayAfter\\\",\\\"the day after the date the user requested\\\") }}\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleCalendarTool\",\n      \"typeVersion\": 1.3,\n      \"position\": [1640, 1280],\n      \"id\": \"a08b2113-dfd1-449a-9abf-a4e168145aff\",\n      \"name\": \"Get Events\",\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"77PusYPyogYoBXAh\",\n          \"name\": \"Google Calendar account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"delete\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"value\": \"riccardobcontarini@gmail.com\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"riccardobcontarini@gmail.com\"\n        },\n        \"eventId\": \"={{ $fromAI(\\\"eventID\\\") }}\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleCalendarTool\",\n      \"typeVersion\": 1.3,\n      \"position\": [1880, 1140],\n      \"id\": \"2a438ef1-f26d-4b09-8f9b-aaa0df1f0261\",\n      \"name\": \"Delete Event\",\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"77PusYPyogYoBXAh\",\n          \"name\": \"Google Calendar account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"update\",\n        \"calendar\": {\n          \"__rl\": true,\n          \"value\": \"riccardobcontarini@gmail.com\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"riccardobcontarini@gmail.com\"\n        },\n        \"eventId\": \"={{ $fromAI(\\\"eventID\\\") }}\",\n        \"updateFields\": {\n          \"end\": \"={{ $fromAI(\\\"endTime\\\") }}\",\n          \"start\": \"={{ $fromAI(\\\"startTime\\\") }}\"\n        }\n      },\n      \"type\": \"n8n-nodes-base.googleCalendarTool\",\n      \"typeVersion\": 1.3,\n      \"position\": [1760, 1140],\n      \"id\": \"281beeeb-2e91-4bd6-96ca-0ad234e572ec\",\n      \"name\": \"Update Event\",\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"77PusYPyogYoBXAh\",\n          \"name\": \"Google Calendar account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"promptType\": \"define\",\n        \"text\": \"={{ $json.query }}\",\n        \"options\": {\n          \"systemMessage\": \"=# Panoramica\\n\\nSei un assistente per il calendario. Le tue responsabilitÃ  includono la creazione, il recupero e l'eliminazione di eventi nel calendario dell'utente.\\n\\n**Strumenti per la gestione del calendario**\\n\\n* Usa **\\\"Create Event with Attendee\\\"** quando l'evento include un partecipante.\\n* Usa **\\\"Create Event\\\"** per eventi personali (senza partecipanti).\\n* Usa **\\\"Get Events\\\"** per recuperare gli impegni in calendario quando richiesto.\\n* Usa **\\\"Delete Event\\\"** per eliminare un evento. Devi prima usare **\\\"Get Events\\\"** per ottenere l'ID dell'evento da eliminare.\\n* Usa **\\\"Update Event\\\"** per aggiornare un evento. Devi prima usare **\\\"Get Events\\\"** per ottenere l'ID dell'evento da aggiornare.\\n\\n## Note finali\\n\\nData/ora attuali: {{ $now }}\\nSe la durata di un evento non Ã¨ specificata, si assume che duri un'ora.\\n\"\n        }\n      },\n      \"id\": \"b6eed964-6d40-4695-9d25-779e18c4edcf\",\n      \"name\": \"Calendar Agent1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"typeVersion\": 1.6,\n      \"position\": [1680, 940],\n      \"onError\": \"continueErrorOutput\"\n    },\n    {\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"value\": \"gpt-4.1-mini\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"gpt-4.1-mini\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"typeVersion\": 1.2,\n      \"position\": [1640, 1140],\n      \"id\": \"88ec430f-cba9-4542-b99d-45baff918520\",\n      \"name\": \"4.1-mini1\",\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"BFc6AP5AI3zXT8vo\",\n          \"name\": \"OpenAi account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"toolDescription\": \"Use this tool to search the internet\",\n        \"method\": \"POST\",\n        \"url\": \"https://api.tavily.com/search\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"jsonBody\": \"{\\n    \\\"api_key\\\": \\\"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\\\",\\n    \\\"query\\\": \\\"{searchTerm}\\\",\\n    \\\"search_depth\\\": \\\"basic\\\",\\n    \\\"include_answer\\\": true,\\n    \\\"topic\\\": \\\"news\\\",\\n    \\\"include_raw_content\\\": true,\\n    \\\"max_results\\\": 3\\n} \",\n        \"placeholderDefinitions\": {\n          \"values\": [\n            {\n              \"name\": \"searchTerm\",\n              \"description\": \"What the user has requested to write a blog about\",\n              \"type\": \"string\"\n            }\n          ]\n        }\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.toolHttpRequest\",\n      \"typeVersion\": 1.1,\n      \"position\": [2740, 1220],\n      \"id\": \"9ffa751f-a697-4b1f-96bf-54c2481fe681\",\n      \"name\": \"Tavily1\"\n    },\n    {\n      \"parameters\": {\n        \"promptType\": \"define\",\n        \"text\": \"={{ $json.query}}\",\n        \"options\": {\n          \"systemMessage\": \"=# Ruolo e Obiettivo\\n\\nSei un abile scrittore di blog specializzato in Intelligenza Artificiale, capace di produrre contenuti coinvolgenti, ben strutturati e informativi. Il tuo stile di scrittura Ã¨ chiaro, persuasivo e adattato al pubblico di riferimento. Ottimizzi ogni articolo per la leggibilitÃ , la SEO e il valore, garantendo che i blog siano ben documentati, originali e privi di contenuti superflui.\\n\\n## Strumenti\\n\\nTavily â€“ Usalo per cercare informazioni sul web relative all'argomento richiesto per il post del blog.\\n\\n## Requisiti per il Blog\\n\\nFormatta tutti i contenuti del blog in HTML, utilizzando intestazioni corrette (h1, h2), paragrafi (p), elenchi puntati (ul li) e link (a href) per le citazioni. Tutte le fonti provenienti dallo strumento Tavily devono essere mantenute, con collegamenti ipertestuali cliccabili in modo che i lettori possano accedere alle fonti originali.\\n\\nMantieni un tono naturale e umano, varia la struttura delle frasi e includi esempi o dati pertinenti quando necessario. Struttura i contenuti per una lettura scorrevole, con paragrafi concisi e un flusso logico coerente. Assicurati sempre dell'accuratezza dei fatti e allinea il tono allo scopo e al brand di riferimento.\\n\"\n        }\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"typeVersion\": 1.7,\n      \"position\": [2440, 960],\n      \"id\": \"bf4cd5e6-174b-4c81-8062-8b3c9e5e2799\",\n      \"name\": \"Content Creator Agent1\",\n      \"onError\": \"continueErrorOutput\"\n    },\n    {\n      \"parameters\": {\n        \"name\": \"emailAgent\",\n        \"description\": \"Chiama questo tool per azioni che riguardano le email \",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"value\": \"s6PAzBRlRkuPNUEV\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Email Agent\"\n        },\n        \"workflowInputs\": {\n          \"mappingMode\": \"defineBelow\",\n          \"value\": {},\n          \"matchingColumns\": [],\n          \"schema\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        }\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"typeVersion\": 2,\n      \"position\": [1040, 780],\n      \"id\": \"86c7e06a-2bd2-444f-96dd-060dd0054ca3\",\n      \"name\": \"Email Agent\"\n    },\n    {\n      \"parameters\": {\n        \"name\": \"contentCreator\",\n        \"description\": \"Call this tool to create blog posts.\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"value\": \"3PkyehZouLCPpiMr\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Content Agent\"\n        },\n        \"workflowInputs\": {\n          \"mappingMode\": \"defineBelow\",\n          \"value\": {},\n          \"matchingColumns\": [],\n          \"schema\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        }\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"typeVersion\": 2,\n      \"position\": [2540, 740],\n      \"id\": \"79944e9e-bb7c-48ce-8f95-573a16aa7157\",\n      \"name\": \"Content Creator Agent\"\n    },\n    {\n      \"parameters\": {\n        \"name\": \"calendarAgent\",\n        \"description\": \"Call this tool for any calendar action.\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"value\": \"jv3X8nTXjXpNHfHL\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Calendar Agent\"\n        },\n        \"workflowInputs\": {\n          \"mappingMode\": \"defineBelow\",\n          \"value\": {},\n          \"matchingColumns\": [],\n          \"schema\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        }\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"typeVersion\": 2,\n      \"position\": [1800, 740],\n      \"id\": \"3c902686-afc1-42eb-8fc0-69164a891648\",\n      \"name\": \"Calendar Agent\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"# Agente Orchestratore\\n\\n\",\n        \"height\": 520,\n        \"width\": 1860,\n        \"color\": 4\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [620, -120],\n      \"typeVersion\": 1,\n      \"id\": \"74cdcf7c-d743-42a7-8141-33ba9d3a48bf\",\n      \"name\": \"Sticky Note\"\n    },\n    {\n      \"parameters\": {},\n      \"type\": \"@n8n/n8n-nodes-langchain.toolThink\",\n      \"typeVersion\": 1,\n      \"position\": [1400, 280],\n      \"id\": \"9bb16393-7e94-4193-bd42-101e4fcb1cb7\",\n      \"name\": \"Think\"\n    },\n    {\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"value\": \"gpt-4.1\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"gpt-4.1\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"typeVersion\": 1.2,\n      \"position\": [1520, 280],\n      \"id\": \"3a8c56bf-b6d2-48f7-85c8-78ae19a585a7\",\n      \"name\": \"GPT 4.1\",\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"BFc6AP5AI3zXT8vo\",\n          \"name\": \"OpenAi account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"updates\": [\"message\"],\n        \"additionalFields\": {}\n      },\n      \"id\": \"50702994-2129-44c9-adee-0066c2da0b7b\",\n      \"name\": \"Telegram Trigger\",\n      \"type\": \"n8n-nodes-base.telegramTrigger\",\n      \"typeVersion\": 1.1,\n      \"position\": [680, 60],\n      \"webhookId\": \"99eab1a0-569d-4f0f-a49e-578a02abfe63\",\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"tMEo2CDlm0hRfESo\",\n          \"name\": \"Martes AI\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"fe7ecc99-e1e8-4a5e-bdd6-6fce9757b234\",\n              \"name\": \"text\",\n              \"value\": \"={{ $json.message.text }}\",\n              \"type\": \"string\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"id\": \"397180b8-983b-4dd1-9149-238508f0a55b\",\n      \"name\": \"Set 'Text'\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"typeVersion\": 3.4,\n      \"position\": [1300, 80]\n    },\n    {\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"conditions\": {\n                \"options\": {\n                  \"caseSensitive\": true,\n                  \"leftValue\": \"\",\n                  \"typeValidation\": \"strict\",\n                  \"version\": 2\n                },\n                \"conditions\": [\n                  {\n                    \"leftValue\": \"={{ $json.message.voice.file_id }}\",\n                    \"rightValue\": \"\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"exists\",\n                      \"singleValue\": true\n                    }\n                  }\n                ],\n                \"combinator\": \"and\"\n              },\n              \"renameOutput\": true,\n              \"outputKey\": \"Voice\"\n            },\n            {\n              \"conditions\": {\n                \"options\": {\n                  \"caseSensitive\": true,\n                  \"leftValue\": \"\",\n                  \"typeValidation\": \"strict\",\n                  \"version\": 2\n                },\n                \"conditions\": [\n                  {\n                    \"id\": \"8c844924-b2ed-48b0-935c-c66a8fd0c778\",\n                    \"leftValue\": \"={{ $json.message.text }}\",\n                    \"rightValue\": \"\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"exists\",\n                      \"singleValue\": true\n                    }\n                  }\n                ],\n                \"combinator\": \"and\"\n              },\n              \"renameOutput\": true,\n              \"outputKey\": \"Text\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"id\": \"b49fbf9d-64d3-4ac3-bf7a-b53476251430\",\n      \"name\": \"Switch\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"typeVersion\": 3.2,\n      \"position\": [960, 60]\n    },\n    {\n      \"parameters\": {\n        \"chatId\": \"={{ $('Telegram Trigger').item.json.message.chat.id }}\",\n        \"text\": \"={{ $json.output }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"id\": \"d7766b7e-a45b-42c6-8f29-e64edf57e595\",\n      \"name\": \"Response\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"typeVersion\": 1.2,\n      \"position\": [2140, 20],\n      \"webhookId\": \"682ca5ab-d30c-4ea5-bb25-c2f26206e761\",\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"tMEo2CDlm0hRfESo\",\n          \"name\": \"Martes AI\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"sessionIdType\": \"customKey\",\n        \"sessionKey\": \"={{ $('Telegram Trigger').item.json.message.chat.id }}\"\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n      \"typeVersion\": 1.3,\n      \"position\": [1640, 280],\n      \"id\": \"31fd754e-db59-4b2c-8e41-4de9fc3e0460\",\n      \"name\": \"Simple Memory\"\n    },\n    {\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"value\": \"gpt-4.5-preview\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"gpt-4.5-preview\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"typeVersion\": 1.2,\n      \"position\": [2320, 1240],\n      \"id\": \"48184c56-70d5-470b-9c5c-4b38e24cb930\",\n      \"name\": \"OpenAI Chat Model\",\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"BFc6AP5AI3zXT8vo\",\n          \"name\": \"OpenAi account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"resource\": \"audio\",\n        \"operation\": \"transcribe\",\n        \"options\": {}\n      },\n      \"id\": \"fde250bb-198c-4f25-913f-6f64508fc3b1\",\n      \"name\": \"Trascrivi Audio\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"typeVersion\": 1.6,\n      \"position\": [1400, -80],\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"BFc6AP5AI3zXT8vo\",\n          \"name\": \"OpenAi account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"resource\": \"file\",\n        \"fileId\": \"={{ $json.message.voice.file_id }}\"\n      },\n      \"id\": \"9c8462e0-0892-450c-b2f7-5f48ba6e0df4\",\n      \"name\": \"Download del Vocale\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"typeVersion\": 1.2,\n      \"position\": [1240, -80],\n      \"webhookId\": \"c0b376b1-7b63-41b6-8063-0b3096b8333d\",\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"tMEo2CDlm0hRfESo\",\n          \"name\": \"Martes AI\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"promptType\": \"define\",\n        \"text\": \"={{ $json.text }}\",\n        \"options\": {\n          \"systemMessage\": \"=# Obiettivo e Ruolo\\n\\nSei l'assistente personale definitivo. Il tuo compito Ã¨ inviare la richiesta dell'utente allo strumento corretto. Non devi mai scrivere email nÃ© creare riassunti: devi solo chiamare lo strumento appropriato.\\n\\n## Strumenti\\n\\n* **Think**: Usalo per riflettere in profonditÃ  o se ti blocchi\\n* **emailAgent**: Usalo per eseguire azioni via email\\n* **calendarAgent**: Usalo per eseguire azioni nel calendario\\n* **contentCreator**: Usalo per creare articoli per blog\\n\\n## Regole\\n\\n* Alcune azioni richiedono di recuperare prima le informazioni di contatto. Per le seguenti azioni, devi ottenere l'indirizzo email e inviarlo allo strumento che ne ha bisogno:\\n\\n  * inviare email\\n  * scrivere bozze di email\\n  * creare eventi di calendario con partecipanti\\n\\n## Istruzioni\\n\\n1. Chiama gli strumenti necessari in base alla richiesta dell'utente\\n2. Usa lo strumento \\\"Think\\\" per verificare di aver fatto i passaggi corretti. Questo strumento va usato ogni volta.\\n\\n## Promemoria Finale\\n\\nData/ora attuali: {{ $now }}\\n\"\n        }\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"typeVersion\": 1.7,\n      \"position\": [1680, 20],\n      \"id\": \"915451b7-26f2-46f1-b97d-e0c80089f3a8\",\n      \"name\": \"Orchestratore\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## Email Agent\",\n        \"height\": 560,\n        \"width\": 660\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"typeVersion\": 1,\n      \"position\": [660, 900],\n      \"id\": \"360ea029-5835-4980-b72f-fcca3e5f947d\",\n      \"name\": \"Sticky Note1\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## Calendar Agent\",\n        \"height\": 560,\n        \"width\": 660,\n        \"color\": 3\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"typeVersion\": 1,\n      \"position\": [1460, 900],\n      \"id\": \"42fe2b3b-9b75-466a-a15b-6e47b7c65a47\",\n      \"name\": \"Sticky Note3\"\n    },\n    {\n      \"parameters\": {\n        \"content\": \"## Content Agent\",\n        \"height\": 560,\n        \"width\": 660,\n        \"color\": 5\n      },\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"typeVersion\": 1,\n      \"position\": [2240, 900],\n      \"id\": \"0eab9556-a919-40ac-a314-c38c992dc93c\",\n      \"name\": \"Sticky Note4\"\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Send Email\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Email Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Emails\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Email Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Draft\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Email Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Email Reply\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Email Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Labels\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Email Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Label Emails\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Email Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Mark Unread\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Email Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"4.1-mini\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Email Agent1\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Event with Attendee\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Calendar Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Event\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Calendar Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Events\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Calendar Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Delete Event\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Calendar Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update Event\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Calendar Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"4.1-mini1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Calendar Agent1\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Tavily1\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Content Creator Agent1\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Email Agent\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Orchestratore\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Content Creator Agent\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Orchestratore\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Calendar Agent\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Orchestratore\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Think\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Orchestratore\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GPT 4.1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Orchestratore\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Telegram Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Switch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set 'Text'\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Orchestratore\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Switch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download del Vocale\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Set 'Text'\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Simple Memory\": {\n      \"ai_memory\": [\n        [\n          {\n            \"node\": \"Orchestratore\",\n            \"type\": \"ai_memory\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Content Creator Agent1\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Trascrivi Audio\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Orchestratore\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download del Vocale\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Trascrivi Audio\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Orchestratore\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  },\n  \"active\": false,\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"5b6cb92a-90c9-48ee-9ef8-930285e3e6b2\",\n  \"meta\": {\n    \"templateCredsSetupCompleted\": true,\n    \"instanceId\": \"1787bbeed8f31eaedc756ad3cd3cab2077a082e496d3531c3e20f3e4ea8fc063\"\n  },\n  \"id\": \"DVCOd9vlr3sLz2UF\",\n  \"tags\": []\n}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        240,
        176
      ],
      "id": "fd2115b3-531f-488d-b91b-b8ae3be8dafc",
      "name": "Esempi di Workflow1"
    },
    {
      "parameters": {
        "jsCode": "const raw = $input.first().json.output;\n\nconst start = raw.indexOf('{');\nconst end = raw.lastIndexOf('}');\n\nif (start === -1 || end === -1) {\n  throw new Error('Nessun JSON trovato nell\\'output');\n}\n\nconst jsonString = raw.substring(start, end + 1);\nconst parsed = JSON.parse(jsonString);\n\nreturn [{ json: parsed }];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        720,
        176
      ],
      "id": "f8823f9f-75ba-4cdc-9ff0-0b9f164b3980",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        0,
        320
      ],
      "id": "cfc292ef-62f6-452d-a3d7-947ef955edbd",
      "name": "When chat message received",
      "webhookId": "bf4ef4b0-29c4-4ca2-b1ec-40804829f551"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1.1,
      "position": [
        624,
        368
      ],
      "id": "0b7569dc-9cfb-435f-a92e-dfeae34d4153",
      "name": "Think",
      "disabled": true
    }
  ],
  "pinData": {},
  "connections": {
    "Anthropic Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "n8n Builder1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "n8n1": {
      "main": [
        [
          {
            "node": "Link al Workflow1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "n8n Builder1": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Esempi di Workflow1": {
      "main": [
        [
          {
            "node": "n8n Builder1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "n8n1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "Esempi di Workflow1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Think": {
      "ai_tool": [
        [
          {
            "node": "n8n Builder1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "binaryMode": "separate",
    "availableInMCP": false
  },
  "versionId": "01f6b57c-2422-45c6-9ffd-9c730727b560",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "cc40ab904c04558b2f0ce71fa1ffeea26fd1aa52345c1d1117719f50d2adbac0"
  },
  "id": "4Lmiq3ItyHlqodLv",
  "tags": []
}